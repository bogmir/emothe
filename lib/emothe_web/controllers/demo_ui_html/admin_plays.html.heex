<Layouts.admin flash={@flash} current_user={@current_user} breadcrumbs={@breadcrumbs}>
  <div class="mx-auto max-w-7xl px-4 py-8">
    <div class="mb-6 flex flex-wrap items-center justify-between gap-4">
      <div>
        <h1 class="text-3xl font-semibold tracking-tight text-base-content">Play Management</h1>
        <p class="mt-1 text-sm text-base-content/70">Browse, edit, and curate imported plays.</p>
      </div>
      <div class="flex gap-2">
        <a href="/demo/ui/admin/import" class="btn btn-sm btn-success">Import TEI-XML</a>
        <a href="#" class="btn btn-sm btn-primary">New Play</a>
      </div>
    </div>

    <form class="mb-5">
      <input
        type="text"
        name="search"
        value={@search}
        placeholder="Search plays..."
        class="input input-bordered w-full md:max-w-md"
      />
    </form>

    <div class="overflow-x-auto rounded-box border border-base-300 bg-base-100 shadow-sm">
      <table class="table table-zebra">
        <thead>
          <tr class="text-xs uppercase tracking-wide text-base-content/60">
            <th>Code</th>
            <th>Title</th>
            <th>Author</th>
            <th>Verses</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr :for={play <- @plays} class="hover">
            <td class="font-mono text-sm text-base-content/75">{play.code}</td>
            <td>
              <a href="/demo/ui/admin/play" class="font-medium text-base-content hover:underline">
                {play.title}
              </a>
            </td>
            <td class="text-sm text-base-content/75">{play.author_name}</td>
            <td class="text-sm text-base-content/75">{play.verse_count || "-"}</td>
            <td>
              <div class="flex items-center gap-3 text-sm">
                <a href="#" class="link link-primary">Edit</a>
                <a href="/demo/ui/public/play" class="link link-hover">View</a>
                <a href="#" class="link link-error">Delete</a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <p
      :if={@plays == []}
      class="mt-8 rounded-box border border-dashed border-base-300 py-10 text-center text-base-content/60"
    >
      No plays yet. Import a TEI-XML file or create a new play.
    </p>
  </div>
</Layouts.admin>
